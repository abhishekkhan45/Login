<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
  </head>
  <body class="bg-blue-100">
    <div class="flex justify-center ">
      <section
        class="flex justify-center flex-col items-center p-[30px] w-[60%] border-[2px] mt-[9%] ml-[12%] mr-[12%]"
      >
        <h1 class="text-[30px] font-[800]">Login page</h1>
        <form
          action="/login"
          method="POST"
          class="w-[80%]"
          onsubmit="return  validateform()"
        >
          <div>
            <input
              class="p-[6px] m-[2px] border-[2px] w-[100%]"
              placeholder="enter email"
              type="email"
              name="username"
              id="email"
            />
            <p id="alertemail" class="m-[3px]"></p>
          </div>
          <div>
            <input
              class="p-[6px] m-[2px] border-[2px] w-[80%]"
              placeholder="enter password"
              type="password"
              name="userpassword"
              id="password"
            />
            <span class="bg-[green] p-[6px] border-[2px] w-[100%]" id="button"
              >Show</span
            >
            <p id="alertpassword" class="m-[3px]"></p>
          </div>
          <p class="text-[19px]">
            you are register :<a class="text-[blue]" href="/register"
              >Register</a
            >
          </p>
          <button type="submit" class="bg-[red] p-[6px] m-[6px] border-[2px]">
            Login
          </button>
        </form>
      </section>
    </div>
  </body>
  <script>
    let pass = document.getElementById("password");
    let button = document.getElementById("button");

    button.onclick = function () {
      if (pass.type == "password") {
        pass.type = "text";
      } else {
        pass.type = "password";
      }
    };

   //validation
 function validateform() {
    let email = document.getElementById("email").value.trim();
    let password = document.getElementById("password").value.trim();

    let valid = true;

    // Reset alerts
    document.getElementById("alertemail").innerHTML = "";
    document.getElementById("alertpassword").innerHTML = "";

    // Email validation
    let emailPattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
    if (!emailPattern.test(email)) {
      document.getElementById("alertemail").innerHTML = "Enter a valid email";
      document.getElementById("alertemail").classList.add("text-red-600");
      valid = false;
    }

    // Password validation
    let passwordPattern = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d).{6,8}$/;
    if (!passwordPattern.test(password)) {
      document.getElementById("alertpassword").innerHTML =
        "Password must have 1 uppercase, 1 lowercase, 1 number, 6â€“8 chars";
      document.getElementById("alertpassword").classList.add("text-red-600");
      valid = false;
    }

    return valid; // Submit only if true
  }
  </script>
</html>
